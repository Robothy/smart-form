/* ===================================
   PREMIUM VISUAL DESIGN SYSTEM
   =================================== */

@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap');

:root {
  /* Typography */
  --font-display: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;

  /* Color Palette - Deep Midnight Theme */
  --color-bg-primary: #0a0a0f;
  --color-bg-secondary: #13131a;
  --color-bg-tertiary: #1a1a24;
  --color-bg-elevated: #22222e;

  --color-surface: #1a1a24;
  --color-surface-hover: #22222e;
  --color-surface-active: #2a2a38;

  /* Accents */
  --color-accent-primary: #6366f1;
  --color-accent-secondary: #8b5cf6;
  --color-accent-tertiary: #ec4899;
  --color-accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);

  /* Semantic Colors */
  --color-success: #10b981;
  --color-success-bg: rgba(16, 185, 129, 0.1);
  --color-warning: #f59e0b;
  --color-warning-bg: rgba(245, 158, 11, 0.1);
  --color-error: #ef4444;
  --color-error-bg: rgba(239, 68, 68, 0.1);
  --color-info: #3b82f6;
  --color-info-bg: rgba(59, 130, 246, 0.1);

  /* Text Colors */
  --color-text-primary: #f1f5f9;
  --color-text-secondary: #94a3b8;
  --color-text-tertiary: #64748b;
  --color-text-muted: #475569;

  /* Borders */
  --color-border: rgba(255, 255, 255, 0.08);
  --color-border-hover: rgba(255, 255, 255, 0.12);
  --color-border-focus: rgba(99, 102, 241, 0.5);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5), 0 4px 6px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.6), 0 10px 10px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.3);
  --shadow-glow-lg: 0 0 40px rgba(99, 102, 241, 0.4);

  /* Spacing Scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  --space-20: 5rem;

  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Z-Index Scale */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
}

/* ===================================
   BASE STYLES
   =================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  font-family: var(--font-display);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  line-height: 1.6;
  overflow-x: hidden;
  min-height: 100vh;
  position: relative;
}

/* Animated Background Pattern */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(99, 102, 241, 0.15), transparent),
    radial-gradient(ellipse 60% 40% at 80% 50%, rgba(139, 92, 246, 0.08), transparent),
    radial-gradient(ellipse 60% 40% at 20% 80%, rgba(236, 72, 153, 0.08), transparent);
  pointer-events: none;
  z-index: -1;
  animation: bgShift 20s ease-in-out infinite alternate;
}

@keyframes bgShift {
  0% {
    opacity: 0.6;
    transform: scale(1);
  }
  100% {
    opacity: 1;
    transform: scale(1.05);
  }
}

/* ===================================
   TYPOGRAPHY
   =================================== */

h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
  color: var(--color-text-primary);
}

h1 {
  font-size: clamp(2rem, 5vw, 3rem);
  font-weight: 800;
  letter-spacing: -0.03em;
}

h2 {
  font-size: clamp(1.5rem, 4vw, 2.25rem);
  font-weight: 700;
}

h3 {
  font-size: clamp(1.25rem, 3vw, 1.75rem);
}

h4 {
  font-size: 1.125rem;
}

p {
  color: var(--color-text-secondary);
  font-size: 0.9375rem;
  line-height: 1.7;
}

/* ===================================
   LINKS
   =================================== */

a {
  color: inherit;
  text-decoration: none;
  transition: color var(--transition-fast);
}

/* ===================================
   SCROLLBAR
   =================================== */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--color-bg-tertiary);
  border-radius: var(--radius-full);
  border: 2px solid var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-bg-elevated);
}

/* ===================================
   SELECTION
   =================================== */

::selection {
  background: rgba(99, 102, 241, 0.3);
  color: var(--color-text-primary);
}

/* ===================================
   FOCUS STYLES
   =================================== */

:focus-visible {
  outline: 2px solid var(--color-accent-primary);
  outline-offset: 2px;
}

/* ===================================
   ANIMATIONS
   =================================== */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* ===================================
   UTILITY CLASSES
   =================================== */

.animate-fade-in {
  animation: fadeIn var(--transition-slow) ease-out;
}

.animate-slide-up {
  animation: slideUp var(--transition-slow) ease-out;
}

.animate-scale-in {
  animation: scaleIn var(--transition-slow) ease-out;
}

/* Glassmorphism Effect */
.glass {
  background: rgba(26, 26, 36, 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--color-border);
}

/* Gradient Text */
.gradient-text {
  background: var(--color-accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Hover Effects */
.hover-lift {
  transition: transform var(--transition-base), box-shadow var(--transition-base);
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

/* ===================================
   MUI OVERRIDES
   =================================== */

/* Override MUI default styles */
.MuiPaper-root {
  background: var(--color-surface) !important;
  border: 1px solid var(--color-border) !important;
}

.MuiButton-root {
  font-family: var(--font-display) !important;
  font-weight: 600 !important;
  text-transform: none !important;
  letter-spacing: -0.01em !important;
}

.MuiButton-contained {
  background: var(--color-accent-gradient) !important;
  box-shadow: var(--shadow-md) !important;
}

.MuiButton-contained:hover {
  box-shadow: var(--shadow-glow) !important;
  transform: translateY(-2px);
}

.MuiButton-outlined {
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
}

.MuiButton-outlined:hover {
  border-color: var(--color-accent-primary) !important;
  background: rgba(99, 102, 241, 0.1) !important;
}

.MuiTypography-root {
  font-family: var(--font-display) !important;
}

.MuiTextField-root {
  background: var(--color-bg-secondary) !important;
}

.MuiOutlinedInput-root {
  background: var(--color-bg-secondary) !important;
  border-radius: var(--radius-lg) !important;
}

.MuiOutlinedInput-input {
  color: var(--color-text-primary) !important;
}

.MuiInputLabel-root {
  color: var(--color-text-secondary) !important;
  font-family: var(--font-display) !important;
}

.MuiChip-root {
  font-family: var(--font-display) !important;
  font-weight: 500 !important;
}

.MuiCard-root {
  background: var(--color-surface) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: var(--radius-xl) !important;
}

.MuiAppBar-root {
  background: rgba(10, 10, 15, 0.9) !important;
  backdrop-filter: blur(12px) !important;
  border-bottom: 1px solid var(--color-border) !important;
}

.MuiToolbar-root {
  padding-left: var(--space-6) !important;
  padding-right: var(--space-6) !important;
}

/* ===================================
   RESPONSIVE
   =================================== */

@media (max-width: 768px) {
  :root {
    --space-6: 1rem;
    --space-8: 1.5rem;
    --space-10: 2rem;
    --space-12: 2.5rem;
  }

  body::before {
    opacity: 0.4;
  }
}

/* ===================================
   DATE PICKER & FORM OVERRIDES
   =================================== */

/* MUI X Date Picker Overrides - HIGHEST PRIORITY */
/* Using attribute selectors for maximum specificity */

/* Input field text color - Ultimate override with maximum specificity */
input.MuiOutlinedInput-input[class*="Pickers"],
input[class*="PickersOutlinedInput-input"],
.PrivatePickersOutlinedInput-input,
.MuiPickersOutlinedInput-input,
.MuiInputBase-input[class*="Picker"],
.MuiInputBase-input[class*="DatePicker"] {
  color: #f1f5f9 !important;
  -webkit-text-fill-color: #f1f5f9 !important;
}

/* Force input color specifically for date picker inputs */
input.MuiOutlinedInput-input[class*="Picker"],
input[class*="Pickers"] {
  color: #f1f5f9 !important;
  -webkit-text-fill-color: #f1f5f9 !important;
}

/* Any input inside a DatePicker component */
.MuiDatePicker-root input,
.MuiDesktopDatePicker-root input,
.MuiMobileDatePicker-root input {
  color: #f1f5f9 !important;
  -webkit-text-fill-color: #f1f5f9 !important;
}

/* Target the actual input element more specifically */
input[type="text"].MuiOutlinedInput-input,
input.MuiOutlinedInput-input:not([type]),
.MuiInputBase-input:not([type]) {
  color: #f1f5f9 !important;
  -webkit-text-fill-color: #f1f5f9 !important;
}

/* Global override - ALL inputs inside date picker contexts */
[class*="DatePicker"] input,
[class*="Picker"] input,
[class*="LocalizationProvider"] input {
  color: #f1f5f9 !important;
  -webkit-text-fill-color: #f1f5f9 !important;
}

/* Calendar title (month/year display) */
.MuiPickersLayout-contentWrapper .MuiTypography-root,
.MuiPickersLayout-toolbar .MuiTypography-root,
.MuiPickersArrowSwitcher-label,
.MuiPickersCalendarHeader-label,
.MuiPickersArrowSwitcher span,
.MuiDayCalendar-header div,
.MuiDayCalendar-sliders {
  color: #f1f5f9 !important;
}

/* Month and year dropdown labels */
.MuiPickersArrowSwitcher-label,
.MuiPickersCalendarHeader-label {
  color: #f1f5f9 !important;
}

/* Calendar days */
.MuiPickersDay-day,
.MuiPickersDay-root {
  color: #f1f5f9 !important;
}

/* Month and year buttons */
.MuiPickersMonth-monthButton,
.MuiPickersYear-yearButton {
  color: #f1f5f9 !important;
}

/* Arrow switcher buttons */
.MuiPickersArrowSwitcher-button,
.MuiPickersArrowSwitcher-button span {
  color: #94a3b8 !important;
}

/* Calendar header */
.MuiDayCalendar-header {
  color: #f1f5f9 !important;
}

.MuiDayCalendar-weekDayLabel {
  color: #94a3b8 !important;
}

/* Action buttons */
.MuiDialogActions-root .MuiButton-text {
  color: #6366f1 !important;
}

/* Typography in date picker */
.MuiTypography-root[class*="Picker"],
.MuiTypography-root[class*="Calendar"] {
  color: #f1f5f9 !important;
}

/* Ultimate fallback - target all inputs that might be date picker inputs */
body input[class*="Input"] {
  color-scheme: dark !important;
}

/* Specific override for any input that shows a date value */
input[value*="-"][placeholder*="Select"],
input[value*="/"][placeholder*="Select"] {
  color: #f1f5f9 !important;
}

/* FormInput component date inputs - most specific */
[class*="FormInput"] input,
[class*="FormFiller"] input[class*="Picker"] {
  color: #f1f5f9 !important;
}

/* ===================================
   NATIVE SELECT - DARK THEME
   =================================== */

/* Force dark color scheme for all selects to prevent white flash */
select {
  color-scheme: dark !important;
}

/* Select container styling */
select {
  background-color: rgba(19, 19, 26, 0.8) !important;
  color: #f1f5f9 !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  padding: 0.5rem 0.75rem;
  padding-right: 2.5rem;
  border-radius: 0.5rem;
  cursor: pointer;
}

select:focus {
  outline: none;
  border-color: rgba(99, 102, 241, 0.5) !important;
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
}

select:hover {
  border-color: rgba(255, 255, 255, 0.15) !important;
}

/* Radio and checkbox styling */
input[type='radio'],
input[type='checkbox'] {
  accent-color: #6366f1;
}

input[type='radio']:hover,
input[type='checkbox']:hover {
  accent-color: #818cf8;
}

/* MUI Select dropdown overrides */
.MuiSelect-select {
  color: #f1f5f9 !important;
  background-color: rgba(19, 19, 26, 0.8) !important;
}

.MuiSelect-icon {
  color: #94a3b8 !important;
}

.MuiMenu-paper {
  background-color: rgba(26, 26, 36, 0.98) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(20px) !important;
}

.MuiMenu-list {
  padding: 0.5rem !important;
}

.MuiMenuItem-root {
  color: #f1f5f9 !important;
  border-radius: 0.375rem !important;
  margin: 0.125rem 0.5rem !important;
  padding: 0.625rem 0.75rem !important;
}

.MuiMenuItem-root:hover {
  background-color: rgba(99, 102, 241, 0.15) !important;
}

.MuiMenuItem-root.Mui-selected {
  background-color: rgba(99, 102, 241, 0.25) !important;
  color: #f1f5f9 !important;
}

.MuiMenuItem-root.Mui-selected:hover {
  background-color: rgba(99, 102, 241, 0.3) !important;
}

/* ===================================
   DATE PICKER POPPER FIXES
   =================================== */

/* Prevent popper from jumping during close animation */
.MuiPopper-root {
  transition: opacity 150ms ease-in-out !important;
}

/* Prevent visibility changes during close animation */
.MuiPickersPopper-paper[role="dialog"] {
  transition: opacity 150ms ease-in-out !important;
}

/* ===================================
   COPILOT CHAT SIDEBAR OVERRIDES
   =================================== */

/* Force dark theme for CopilotChat */
.copilot-chat-container {
  --copilot-kit-background-color: #1a1a2e !important;
  --copilot-kit-primary-color: #6366f1 !important;
  --copilot-kit-secondary-contrast-color: #f1f5f9 !important;
  --copilot-kit-muted-color: #64748b !important;
  --copilot-kit-border-color: rgba(255, 255, 255, 0.1) !important;
  --copilot-kit-input-background-color: rgba(19, 19, 26, 0.8) !important;
  --copilot-kit-separator-color: rgba(255, 255, 255, 0.1) !important;
  --copilot-kit-user-message-background-color: rgba(99, 102, 241, 0.2) !important;
  --copilot-kit-ai-message-background-color: transparent !important;
}

/* Force CopilotChat to fill its container */
.copilot-chat-container .copilotKitChat {
  height: 100% !important;
}

/* Messages area should take available space */
.copilot-chat-container .copilotKitMessages {
  flex: 1 !important;
  overflow-y: auto !important;
  display: flex !important;
  flex-direction: column !important;
}

/* Input container dark theme */
.copilot-chat-container .copilotKitInputContainer {
  background: #1a1a2e !important;
}

.copilot-chat-container .copilotKitInput {
  background-color: rgba(19, 19, 26, 0.8) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
}

/* Input text color - ensure visibility */
.copilot-chat-container .copilotKitInput > textarea {
  color: #f1f5f9 !important;
  caret-color: #6366f1 !important;
  -webkit-text-fill-color: #f1f5f9 !important;
}

/* Placeholder color */
.copilot-chat-container .copilotKitInput > textarea::placeholder {
  color: #64748b !important;
  -webkit-text-fill-color: #64748b !important;
}

/* Control buttons color */
.copilot-chat-container .copilotKitInputControlButton:not([disabled]) {
  color: #6366f1 !important;
}

/* Replace "Powered by CopilotKit" text with custom text */
.copilot-chat-container .poweredBy {
  font-size: 0 !important;
}

.copilot-chat-container .poweredBy::before {
  content: "AI Assistant by FormForge";
  font-size: 12px !important;
  color: #64748b !important;
}

/* AI message text - increase contrast for better readability */
.copilot-chat-container .copilotKitMessages p,
.copilot-chat-container .copilotKitMessages li,
.copilot-chat-container .copilotKitMessages span,
.copilot-chat-container .copilotKitMessages div {
  color: #f1f5f9 !important;
}

/* User messages already have good contrast with their background,
   but we specifically target AI message content without background */
.copilot-chat-container .copilotKitMessages > div:not([class*="user"]) p,
.copilot-chat-container .copilotKitMessages > div:not([class*="user"]) li,
.copilot-chat-container .copilotKitMessages > div:not([class*="user"]) span {
  color: #f1f5f9 !important;
}
